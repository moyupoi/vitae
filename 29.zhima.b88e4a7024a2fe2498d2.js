webpackJsonp([29],{470:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){var e=m.default.load("token")||window.ZBJ.access_token;return(0,f.default)({},c.CALL_API,{endpoint:E.default.api_root_v1+"/ant_open/zhima_credit_info",method:"get",headers:(0,d.default)(E.default.headers,{Authorization:"Bearer "+e}),types:[I,{type:F,payload:function(e,t,n){return n.json()}},v]})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments[1],n=C[t.type];return n?n(e,t):e}Object.defineProperty(t,"__esModule",{value:!0}),t.actions=t.FETCH_ZHIMA_INFO_FAILURE=t.FETCH_ZHIMA_INFO_SUCCESS=t.FETCH_ZHIMA_INFO_REQUEST=void 0;var i,o=n(6),l=a(o),_=n(8),f=a(_),s=n(194),d=a(s);t.fetchZhimaInfo=r,t.default=u;var c=n(41),h=n(17),m=a(h),p=n(29),E=a(p),I=t.FETCH_ZHIMA_INFO_REQUEST="FETCH_ZHIMA_INFO_REQUEST",F=t.FETCH_ZHIMA_INFO_SUCCESS="FETCH_ZHIMA_INFO_SUCCESS",v=t.FETCH_ZHIMA_INFO_FAILURE="FETCH_ZHIMA_INFO_FAILURE",C=(t.actions={fetchZhimaInfo:r},i={},(0,f.default)(i,I,function(e,t){return(0,l.default)({},e,{isFetching:!0,error:{},info:{}})}),(0,f.default)(i,F,function(e,t){return(0,l.default)({},e,{isFetching:!1,error:{},lastUpdate:Date.now(),info:t.payload})}),(0,f.default)(i,v,function(e,t){return(0,l.default)({},e,{isFetching:!1,error:{},info:{}})}),i),Z={isFetching:!1,error:{},info:{}}},716:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),u=a(r),i=n(2),o=a(i),l=n(12),_=a(l),f=n(4),s=a(f),d=n(3),c=a(d),h=n(20),m=a(h),p=n(1),E=a(p),I=n(18),F=n(17),v=(a(F),n(1114)),C=a(v),Z=n(62),g=a(Z),H=n(29),N=a(H),A=function(e){function t(e){return(0,o.default)(this,t),(0,s.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e))}return(0,c.default)(t,e),(0,_.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.user.signed||(0,m.default)(e.user.error)||e.user.error.message===this.props.user.error.message||(window.location.href=e.user.error.ant_open_zhima_c_auth_url),this.props.user.signed!==e.user.signed&&e.user.signed&&this.props.fetchZhimaInfo()}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.zhima,a=t.signed,r=n.info,u=n.isFetching,i=n.error;return E.default.createElement("div",null,(u&&(0,m.default)(r)||!a)&&E.default.createElement("div",{className:"loading"},E.default.createElement(g.default,null)),!u&&!i&&(0,m.default)(r)&&E.default.createElement("h3",null,"服务器异常，刷新重新获取数据"),a&&!(0,m.default)(r)&&E.default.createElement("div",{className:C.default.antOpenContainer},E.default.createElement("div",{className:C.default.score},r.ant_open_zhima_c_score),E.default.createElement("div",{className:C.default.info},r.ant_open_zhima_c_auth_msg),r.ant_open_zhima_c_pass&&E.default.createElement("div",null,E.default.createElement(I.Link,{to:{pathname:"/"},className:C.default.choiceBtn},"我要选房"),E.default.createElement("div",{className:C.default.prompt},E.default.createElement("i",null),"提示：仅支持标示 “信用免押金” 的房源")),!r.ant_open_zhima_c_pass&&E.default.createElement("a",{href:N.default.ant_open_fuwu,className:C.default.choiceBtn},"返回")))}}]),t}(p.Component);t.default=A},717:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),u=n(132),i=n(470),o=n(716),l=a(o),_=n(42),f={zhimaLogin:u.zhimaLogin,fetchZhimaInfo:i.fetchZhimaInfo,setTitle:_.setTitle},s=function(e){return{user:e.user,zhima:e.zhima}};t.default=(0,r.connect)(s,f)(l.default)},1114:function(e,t){e.exports={antOpenContainer:"Zhima__antOpenContainer___3nExL",score:"Zhima__score___24Lfj",info:"Zhima__info___q_eCo",choiceBtn:"Zhima__choiceBtn___4xvdb",prompt:"Zhima__prompt___z_r9v"}}});